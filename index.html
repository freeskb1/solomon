<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>í‚¹ ì†”ë¡œëª¬ ë°¸ëŸ°ìŠ¤ í† ë¡  ê²Œì„ (PPTX ìŠ¤íƒ€ì¼)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#0f172a; /* slate-900 */
      --bg2:#111827; /* gray-900 */
      --ink:#0b0f19;
    }
    html,body{height:100%;}
    body{font-family: "Pretendard", system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Arial, "Apple SD Gothic Neo";}
    .pptx-slide{ 
      /* 16:9 slide look */
      aspect-ratio: 16/9; 
      background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,255,255,0.92));
      border-radius: 32px; 
      box-shadow: 0 20px 60px rgba(0,0,0,.25);
    }
    .pptx-bg{
      background: radial-gradient(1200px 800px at 10% 10%, #334155 0%, transparent 50%),
                  radial-gradient(900px 700px at 100% 0%, #1f2937 0%, transparent 50%),
                  linear-gradient(135deg, #0b1220, #0f172a 60%, #111827);
    }
    .title-shine{
      background: linear-gradient(90deg, #111827, #111827, #0ea5e9, #111827, #111827);
      -webkit-background-clip: text; background-clip: text; color: transparent; animation: shine 8s linear infinite;
    }
    @keyframes shine{0%{background-position: -200% 0}100%{background-position: 200% 0}}

    /* Pseudo-fullscreen fallback (for environments where fullscreen is disallowed) */
    body.pseudo-fullscreen{ overflow:hidden; }
    body.pseudo-fullscreen header, body.pseudo-fullscreen footer{ display:none; }
    body.pseudo-fullscreen .pptx-slide{ position:fixed; inset:0; width:100vw; height:100vh; border-radius:0; box-shadow:none; background: linear-gradient(180deg, rgba(255,255,255,1), rgba(255,255,255,1)); }

    /* Tiny toast for messages */
    #toast{ position:fixed; left:50%; bottom:24px; transform:translateX(-50%); z-index:50; }
    #topicHeading{ /* B: ì¤‘ê°„ í¬ê¸° + ìì—° ë‘ ì¤„ */
      font-size: clamp(28px, 4.2vw, 56px);
      line-height: 1.22;
      word-break: keep-all;       /* í•œêµ­ì–´ ì¤„ë°”ê¿ˆ ê°œì„  */
      text-wrap: balance;         /* ê°€ëŠ¥ ì‹œ ì œëª© ì¤„ ê· í˜• */
      letter-spacing: -0.015em;   /* ì•½ê°„ ì¡°ë°€í•˜ê²Œ */
    }
  </style>
</head>
<body class="pptx-bg min-h-screen text-slate-900">
  <div class="mx-auto max-w-7xl px-4 py-6 md:py-10">
    <!-- Header / Toolbar -->
    <header class="flex items-center justify-between gap-4 text-white">
      <h1 class="text-xl md:text-2xl font-extrabold tracking-tight">í‚¹ ì†”ë¡œëª¬ ë°¸ëŸ°ìŠ¤ í† ë¡  ê²Œì„</h1>
      <nav class="flex items-center gap-2">
        <button id="btnSettings" class="rounded-xl bg-white/10 px-3 py-2 text-sm backdrop-blur hover:bg-white/20">ì„¤ì •</button>
        <button id="btnFullscreen" class="rounded-xl bg-white/10 px-3 py-2 text-sm backdrop-blur hover:bg-white/20">ì „ì²´í™”ë©´</button>
      </nav>
    </header>

    <!-- Slide -->
    <section class="pptx-slide relative mt-5 w-full overflow-hidden">
      <!-- King badge (top-left) -->
      <div id="kingBadge" class="absolute left-6 top-6 hidden select-none">
        <div class="rounded-2xl bg-amber-400/90 px-4 py-2 text-amber-900 shadow-lg ring-2 ring-amber-500/60">
          <div class="flex items-center gap-2">
            <span class="inline-flex h-6 w-6 items-center justify-center rounded-full bg-amber-500 text-white text-xs font-bold">ì™•</span>
            <span id="kingName" class="text-base font-extrabold"></span>
          </div>
          <div id="kingPowers" class="mt-1 text-xs font-semibold text-amber-900/80"></div>
        </div>
      </div>

      <!-- Start Screen -->
      <div id="screenStart" class="absolute inset-0 grid place-items-center p-6">
        <div class="w-full max-w-3xl rounded-3xl bg-white/80 p-6 md:p-8 shadow-2xl ring-1 ring-black/5">
          <h2 class="title-shine text-3xl md:text-4xl font-extrabold">ì´ì œ ê³§ ì™•ì´ ê²°ì •ì„ ë‚´ë¦´ ì‹œê°„!</h2>
          <p class="mt-2 text-slate-600">ì°¸ì—¬ì ì´ë¦„ì„ ì…ë ¥í•˜ê³  ê²Œì„ì„ ì‹œì‘í•˜ì„¸ìš”.</p>

          <div class="mt-5">
            <div class="flex items-center justify-between">
              <div class="text-sm font-semibold text-slate-700">ì°¸ì—¬ì</div>
              <div class="flex gap-2">
                <button id="addPlayer" class="rounded-lg bg-slate-900 text-white px-3 py-1.5 text-sm">+ ì¶”ê°€</button>
                <button id="shuffleNames" class="rounded-lg bg-slate-200 px-3 py-1.5 text-sm">ì´ë¦„ ì„ê¸°</button>
              </div>
            </div>
            <div id="playersBox" class="mt-3 grid grid-cols-2 md:grid-cols-3 gap-2"></div>
            <div class="mt-2 text-xs text-slate-500">Tip: ì—”í„°ë¡œ ë‹¤ìŒ ì¹¸ ì´ë™ Â· ë¹ˆ ì¹¸ì€ ìë™ ì œê±°ë©ë‹ˆë‹¤.</div>
          </div>

          <div class="mt-6 flex justify-center">
            <button id="btnStartGame" class="rounded-2xl bg-sky-600 text-white py-3 px-6 font-extrabold text-lg shadow hover:bg-sky-700">ê²Œì„ ì‹œì‘</button>
          </div>
        </div>
      </div>

      <!-- Topic Screen -->
      <div id="screenTopic" class="absolute inset-0 hidden">
        <div class="flex h-full w-full flex-col">
          <!-- Top Row: Timer only -->
          <div class="flex items-center justify-end px-8 pt-8">
            <div class="flex items-center gap-3">
              <div class="w-64 h-2 bg-slate-200 rounded-full overflow-hidden">
                <div id="timerBar" class="h-full w-0 bg-rose-500 transition-all"></div>
              </div>
              <div id="timerText" class="min-w-[80px] text-right font-extrabold text-slate-800 text-xl">05:00</div>
              <button id="btnTimerStart" class="rounded-lg bg-rose-500 text-white px-3 py-1.5 text-sm">ì‹œì‘</button>
              <button id="btnTimerPause" class="rounded-lg bg-slate-300 px-3 py-1.5 text-sm">ì¼ì‹œì •ì§€</button>
              <button id="btnTimerReset" class="rounded-lg bg-slate-200 px-3 py-1.5 text-sm">ë¦¬ì…‹</button>
            </div>
          </div>

          <!-- Topic Content -->
          <div class="flex-1 px-8 py-6">
            <div class="grid h-full grid-rows-[1fr_auto] gap-4">
              <div class="grid place-items-center text-center">
                <div class="max-w-4xl">
                  <div id="topicHeading" class="text-4xl md:text-5xl font-extrabold leading-tight tracking-tight"></div>
                </div>
              </div>

              <!-- Bottom: Team Lists + Controls -->
              <div class="mb-6 grid grid-cols-1 gap-4 md:grid-cols-3">
                <div class="rounded-2xl bg-slate-50 p-4 ring-1 ring-slate-200">
                  <div class="flex items-center justify-between">
                    <h3 id="leftTeamTitle" class="font-extrabold"></h3>
                    <span id="leftCount" class="text-xs text-slate-500"></span>
                  </div>
                  <ul id="leftList" class="mt-2 space-y-1 text-sm"></ul>
                </div>

                <div class="flex items-center justify-center">
                  <div class="grid gap-2">
                    <button id="btnAssign" class="rounded-2xl bg-slate-900 text-white px-6 py-3 font-bold shadow hover:bg-slate-800">ì…ì¥ ë°°ì •í•˜ê¸°</button>
                    <button id="btnNewTopic" class="rounded-2xl bg-sky-600 text-white px-6 py-3 font-bold shadow hover:bg-sky-700">ë‹¤ìŒ ì£¼ì œ</button>
                    <button id="btnPickNextKing" class="rounded-2xl bg-amber-500 text-white px-6 py-3 font-bold shadow hover:bg-amber-600">ë‹¤ìŒ ì™• ì„ íƒ</button>
                  </div>
                </div>

                <div class="rounded-2xl bg-slate-50 p-4 ring-1 ring-slate-200">
                  <div class="flex items-center justify-between">
                    <h3 id="rightTeamTitle" class="font-extrabold"></h3>
                    <span id="rightCount" class="text-xs text-slate-500"></span>
                  </div>
                  <ul id="rightList" class="mt-2 space-y-1 text-sm"></ul>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>

      <!-- Settings Modal -->
      <dialog id="dlgSettings" class="rounded-2xl p-0 backdrop:bg-black/50">
        <form method="dialog" class="w-[90vw] max-w-4xl rounded-2xl bg-white p-6">
          <div class="flex items-center justify-between">
            <h3 class="text-lg font-extrabold">ì„¤ì • Â· ì£¼ì œ í¸ì§‘</h3>
            <button class="rounded-lg bg-slate-100 px-2 py-1">ë‹«ê¸°</button>
          </div>

          <div class="mt-4 grid gap-6 md:grid-cols-2">
            <div>
              <div class="font-bold text-slate-700">[O/X] ì§ˆë¬¸ì§€</div>
              <textarea id="taOX" class="mt-2 h-64 w-full rounded-xl border border-slate-200 p-3 text-sm" spellcheck="false"></textarea>
              <div class="mt-2 text-xs text-slate-500">ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤.</div>
            </div>
            <div>
              <div class="font-bold text-slate-700">[ì„ íƒ] ì§ˆë¬¸ì§€ ("A vs B" í˜•ì‹)</div>
              <textarea id="taChoice" class="mt-2 h-64 w-full rounded-xl border border-slate-200 p-3 text-sm" spellcheck="false"></textarea>
              <div class="mt-2 text-xs text-slate-500">ê° ì¤„ë§ˆë‹¤ <strong>vs</strong> ë¡œ ì¢Œ/ìš° í•­ëª©ì„ êµ¬ë¶„í•˜ì„¸ìš”.</div>
            </div>
          </div>

          <div class="mt-6 grid gap-6 md:grid-cols-2">
            <div>
              <div class="font-bold text-slate-700">ì™•ì˜ ëŠ¥ë ¥(ë¬´ì‘ìœ„ 1~2ê°œ í‘œì‹œ)</div>
              <textarea id="taPowers" class="mt-2 h-40 w-full rounded-xl border border-slate-200 p-3 text-sm" spellcheck="false"></textarea>
              <div class="mt-2 text-xs text-slate-500">ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤.</div>
            </div>
            <div class="grid items-end gap-3">
              <label class="text-sm font-semibold text-slate-600">í† ë¡  ì‹œê°„(ë¶„)</label>
              <input id="inpMinutes" type="number" min="1" max="30" value="5" class="w-32 rounded-lg border border-slate-300 p-2" />
              <button id="btnSaveSettings" class="rounded-xl bg-slate-900 text-white px-4 py-2 font-bold">ì €ì¥</button>
            </div>
          </div>
        </form>
      </dialog>

      <!-- Next King Modal -->
      <dialog id="dlgNextKing" class="rounded-2xl p-0 backdrop:bg-black/50">
        <form method="dialog" class="w-[90vw] max-w-md rounded-2xl bg-white p-6">
          <div class="flex items-center justify-between">
            <h3 class="text-lg font-extrabold">ë‹¤ìŒ ì™• ì„ íƒ</h3>
            <button class="rounded-lg bg-slate-100 px-2 py-1">ë‹«ê¸°</button>
          </div>
          <p class="mt-2 text-sm text-slate-600">ì´ë²ˆ ë¼ìš´ë“œì—ì„œ ê°€ì¥ ì˜í•œ ì‚¬ëŒì„ ì„ íƒí•˜ì„¸ìš”.</p>
          <select id="selNextKing" class="mt-4 w-full rounded-xl border border-slate-300 p-3"></select>
          <div class="mt-6 flex justify-end gap-2">
            <button class="rounded-lg bg-slate-100 px-3 py-2">ì·¨ì†Œ</button>
            <button id="btnConfirmNextKing" class="rounded-lg bg-amber-500 px-3 py-2 font-bold text-white">ì™•ìœ¼ë¡œ ì„ëª…</button>
          </div>
        </form>
      </dialog>

    </section>

    <footer class="mt-4 text-center text-xs text-white/70">Â© 2025 Balance Debate Â· PPTX ìŠ¤íƒ€ì¼ ìŠ¬ë¼ì´ë“œ Â· GitHub Pages ë°°í¬ìš© ë‹¨ì¼ íŒŒì¼</footer>
  </div>

  <div id="toast" class="hidden"></div>

  <script>
  // ---------- State ----------
  const state = {
    players: [],
    king: null,
    round: 1,
    minutes: 5,
    timer: { totalMs: 300000, leftMs: 300000, running: false, id: null },
    topics: {
      ox: [
        'ë‚¨ì ì•„ì´ëŒì˜ ê²¨ë“œë‘ì´ í„¸ ì œëª¨ëŠ” í•„ìˆ˜ì´ë‹¤.',
        'ê°™ì´ ë¨¹ëŠ” ë©”ë‰´ ìœ„ì˜ ê³„ë€ ë…¸ë¥¸ìë¥¼ ë¬¼ì–´ë³´ì§€ ì•Šê³  í„°ëœ¨ë¦¬ëŠ” ê±´ ì‹¤ë¡€ì´ë‹¤.',
        'ë¶•ì–´ë¹µì€ ë¨¸ë¦¬ë¶€í„° ë¨¹ì–´ì•¼ í•œë‹¤.',
        'ì§€ì¸ ê²°í˜¼ì‹ì— 5ë§Œì›ì„ ë¶€ì¡°í•˜ê³  ê°€ì¡± ì „ì²´ê°€ ê°€ì„œ ì‹ì‚¬í•˜ëŠ” ê²ƒì€ ì§„ìƒì§“ì´ë‹¤.',
        'ì¹œêµ¬ì—ê²Œ ì„ ë¬¼ ë°›ì€ ë¡œë˜ê°€ 1ë“±ì— ë‹¹ì²¨ë˜ì—ˆë‹¤ë©´ ì„ ë¬¼í•œ ì¹œêµ¬ì—ê²Œ ì ˆë°˜ì„ ì£¼ì–´ì•¼ í•œë‹¤.',
        'ë² ìŠ¤í‚¨ë¼ë¹ˆìŠ¤ì—ì„œ íŒŒì¸íŠ¸ë¥¼ ì„ íƒí•  ë•Œ ë§›ì„ ì¤‘ë³µìœ¼ë¡œ ë‹´ìœ¼ë©´ ì•ˆëœë‹¤.',
        'ì§ì¥ì˜ ë©˜í† ê°™ì€ ìƒì‚¬ì˜ ê²°í˜¼ì‹ê³¼ ì ˆì¹œì˜ ê²°í˜¼ì‹ì´ ê²¹ì¹œë‹¤ë©´ ì§ì¥ ìƒì‚¬ì˜ ê²°í˜¼ì‹ì— ê°€ì•¼í•œë‹¤.',
        'ì¹œí•œ ì§ì¥ë™ë£Œì˜ ì¹˜ì•½ì€ í—ˆë½ ì—†ì´ ì‚¬ìš©í•´ë„ ê´œì°®ë‹¤.',
        'ì‚¬ë‚´ ëƒ‰ì¥ê³ ì— ì´ë¦„ ì—†ëŠ” ìŒì‹ì€ ê³µìš©ìœ¼ë¡œ ë³´ì•„ì•¼ í•œë‹¤.',
        "'í¸í•˜ê²Œ ë§ì”€í•˜ì„¸ìš”'ë¼ëŠ” ìƒì‚¬ì˜ ë§ì„ ê·¸ëŒ€ë¡œ ë°›ì•„ë“¤ì´ë©´ ì•ˆëœë‹¤.",
        'ì§ì¥ ë™ë£Œì˜ SNSëŠ” íŒ”ë¡œìš° í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì˜ˆì˜ì´ë‹¤.',
        'ë§ˆíŠ¸ì—ì„œëŠ” ê°™ì€ ì‹œì‹ ì½”ë„ˆë¥¼ ë‘ ë²ˆ ê°€ë©´ ì•ˆëœë‹¤.',
        'ê³µì¤‘í™”ì¥ì‹¤ì—ì„œ í° ì¼ì„ ë³¼ ë•ŒëŠ”, ìŒ€ ë•Œë§ˆë‹¤ ë°”ë¡œë°”ë¡œ ë¬¼ì„ ë‚´ë ¤ì¤˜ì•¼í•œë‹¤.',
        'ì• ì¸ ì•ì—ì„œ ë‹¤ë¥¸ ì´ì„±ì˜ ì™¸ëª¨ë¥¼ ì¹­í•œí•˜ëŠ” ê²ƒì€ ì‹¤ë¡€ì´ë‹¤.',
        'ì• ì¸ê³¼ ëˆ„ë“œë¹„ì¹˜ì— ê°€ëŠ” ì¼ì€ ì ˆëŒ€ í•´ì„œëŠ” ì•ˆëœë‹¤.',
        'í†µê¸ˆì´ 8ì‹œì¸ ì‚¬ëŒê³¼ëŠ” ì—°ì• í•˜ì§€ ì•ŠëŠ”ê²ƒì´ ì¢‹ë‹¤.',
        'ë§ˆìŒì— ë“œëŠ” ìƒëŒ€ë¼ë©´ ë§Œë‚œì§€ ì¼ì£¼ì¼ë§Œì— ê²°í˜¼ë‚ ì§œë¥¼ ì¡ì•„ë„ ë¬¸ì œë˜ì§€ ì•ŠëŠ”ë‹¤.',
        'ì ˆì¹œì˜ ê²°í˜¼ì‹ì— ì¶•ì˜ê¸ˆ 3ë§Œì›ì„ ë‚´ëŠ” ê²ƒì€ ì‚¬ì‹¤ ì ˆì¹œì´ ì•„ë‹ˆë¼ëŠ” ëœ»ì´ë‹¤.',
        'ë…¸ë˜ë°©ì—ì„œ ë‚¨ì´ ì„ ê³¡í•œ ë…¸ë˜ë¥¼ ë‹¤ë¥¸ ë§ˆì´í¬ë¡œ ë¶€ë¥´ë©´ ì•ˆëœë‹¤.',
        'ì§ì¥ë™ë£Œë“¤ì„ ì´ˆì²­í•´ì„œ ì§‘ë“¤ì´ë¥¼ í•  ë•Œ ë°°ë‹¬ìŒì‹ì€ ê·¸ë¦‡ì— ì˜®ê²¨ ë‹´ì•„ì„œ ìƒì°¨ë¦¼ í•´ì•¼ í•œë‹¤.',
        'ì¹œêµ¬ì™€ ë¨¹ì„ ì¹˜í‚¨ì„ ì£¼ë¬¸í•  ë•Œ ìˆœì‚´ì¸ì§€ ë¼ˆì¸ì§€ë¥¼ ë¬¼ì–´ë³´ì§€ ì•Šê³  ë§˜ëŒ€ë¡œ ì‹œí‚¤ë©´ ì•ˆëœë‹¤.',
        'ë‹¨í†¡ë°©ì—ì„œ ë‚˜ê°„ ì‚¬ëŒì€ ë‹¤ì‹œ ì´ˆëŒ€í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì˜ˆì˜ì´ë‹¤.',
        'ì• ì¸ì˜ ìƒì¼ í•˜ë£¨ì „ ì• ì¸ê³¼ ì‹¸ìš°ê³  í—¤ì–´ì§€ê¸°ë¡œ í–ˆì–´ë„ ë¯¸ë¦¬ ì¤€ë¹„í•œ ìƒì¼ì„ ë¬¼ì€ ì „ë‹¬í•´ì•¼ í•œë‹¤.',
        'ìƒˆë¡œìš´ ì—°ì• ë¥¼ ì‹œì‘í–ˆë‹¤ë©´ ì „ ì• ì¸ì˜ ì‚¬ì§„ê¹Œì§€ë„ ëª¨ë‘ ì‚­ì œí•´ì•¼ í•œë‹¤.',
        'ë£¸ë©”ì´íŠ¸ê°€ ìˆëŠ”ë° ì¹œêµ¬ê°€ ì—†ì„ ë•Œ ì• ì¸ì„ ë¶ˆëŸ¬ì„œ ì§‘ ë°ì´íŠ¸ë¥¼ í•˜ëŠ” ê²ƒì€ ì‹¤ë¡€ì´ë‹¤.',
        'ì‹ì‚¬ì‹œ ì “ê°€ë½ ì„¸íŒ…ì€ ë§‰ë‚´ê°€ í•´ì•¼ í•œë‹¤.',
        'ìƒì¼ì„ ë¬¼ í˜„ê¸ˆì€ ì •ì„±ì´ ì—†ëŠ” ê²ƒì´ë‹¤',
        'ì¹œêµ¬ì˜ ì• ì¸ì„ í˜¸ì¹­ ë‹‰ë„¤ì„ìœ¼ë¡œ ì €ì¥í•˜ëŠ” ê±´ ì´ìƒí•˜ë‹¤',
        'ëª¨ì„ ì •ì‚° ì‹œ ìˆ  ì•ˆë¨¹ì€ ì‚¬ëŒì€ ìˆ ê°’ì„ ì œì™¸í•´ì¤€ë‹¤.'
      ],
      choice: [
        'íƒˆëª¨ì¸ì„ ìœ„í•´ ìš°ë¦¬ ëª¨ë‘ëŠ” ì „ì› ì‚­ë°œ vs ì „ì› ìˆ˜ì˜ëª¨',
        'ì§€ì¸ SNSëŠ” ë§íŒ”ì´ ì˜ˆì˜ë‹¤ vs êµ³ì´ ì•ˆ í•´ë„ ëœë‹¤',
        'ê³„íšì€ ì² ì €í•´ì•¼ í¸í•˜ë‹¤ vs ì¦‰í¥ì´ ì§„ì§œ ì¬ë¯¸ë‹¤',
        'ì‚¬ëŒì€ ë°”ë€ë‹¤ vs ì‚¬ëŒì€ ì˜ ì•ˆ ë°”ë€ë‹¤',
        'ì§‘ì€ ë¯¸ë‹ˆë©€ vs ì·¨í–¥ ê°€ë“ ë§¥ì‹œë©€',
        'ì •ë§ ì¢‹ì•„í•˜ëŠ” ê°€ìˆ˜ì˜ ì½˜ì„œíŠ¸ íœ´ëŒ€í°ì°ìœ¼ë©° ì‹ ê²½ì“°ë©° ë³¸ë‹¤ vs ì˜¤ì§ ëˆˆìœ¼ë¡œë§Œ ë³¸ë‹¤',
        'í”¼ì ëë¶€ë¶„(ë„ìš°) ë‚¨ê²¨ë„ ëœë‹¤ vs ëê¹Œì§€ ë¨¹ì–´ì•¼ ì˜ˆì˜',
        'ì„œìš´í•œ ê°ì •ì€ ë°”ë¡œ ë§í•´ì•¼ í•œë‹¤ vs ìŒ“ì˜€ë‹¤ê°€ í•œ ë²ˆì— í„°ì§„ë‹¤',
        'ì—´ì‹¬íˆ í•˜ëŠ” ì‚¬ëŒì´ ë©‹ì§€ë‹¤ vs ì˜ í•˜ëŠ” ì‚¬ëŒì´ ë©‹ì§€ë‹¤',
        'ë¶€ë“œëŸ¬ìš´ ë¦¬ë”ê°€ ì¢‹ë‹¤ vs ë‹¨í˜¸í•œ ë¦¬ë”ê°€ ì¢‹ë‹¤',
        'ì—°ë½ì€ ìì£¼ê°€ ì¤‘ìš” vs ë‚´ìš©ì´ ì§„ì§œ ì¤‘ìš”',
        'ì§ˆíˆ¬ëŠ” ì‚¬ë‘ í‘œí˜„ì´ë‹¤ vs ì§ˆíˆ¬ëŠ” ë¶ˆì•ˆì˜ í‘œí˜„ì´ë‹¤',
        'ê²°í˜¼ì€ íƒ€ì´ë°ì´ë‹¤ vs ì¸ì—°ì´ë‹¤',
        'ì •ë¦¬ëŠ” í•œ ë²ˆì— ëª°ì•„ì„œ vs í‹ˆí‹ˆì´ ì¡°ê¸ˆì”©',
        'ì¹´í†¡ ì›ƒì„ ë•Œ ã… vs ã…‹',
        'ì¹´í†¡ ê³ ë°± ë°›ê³  ì‚¬ê·€ê¸° vs ê³ ë°± ì•ˆí•˜ëŠ” ì‚¬ëŒê³¼ ì‚¬ê·€ê¸°',
        'ì  ìœ„ì¹˜ë¥¼ ê¼­ ê³¨ë¼ì•¼ í•œë‹¤ ì´ë§ˆ ì •ì¤‘ì•™ vs ì½” ì˜†',
        'í•˜í’ˆí•  ë•Œ ìˆ¨ ì°¸ê³  ì´ì˜ê²Œ í•˜ë ¤ê³  í•œë‹¤ vs ì˜í˜¼ ë¹ ì ¸ë‚˜ê°€ê²Œ í¬ê²Œ í•œë‹¤',
        'ëª©ìš•íƒ•ì— ë¶ˆì´ ë‚¬ë‹¤ ì–¼êµ´ ê°€ë¦°ë‹¤ vs ì•„ë˜ë¥¼ ê°€ë¦°ë‹¤',
        'ì†ì— ë¬»ì€ ë¼ë©´ êµ­ë¬¼, ë°”ë¡œ í•¥ëŠ”ë‹¤ vs íœ´ì§€ ì°¾ì•„ë³¸ë‹¤'
      ]
    },
    powers: [
      "(ë‹¤ê°™ì´ Â· 1ë¶„) ì™•ì´ ë§í•  ë•Œë§ˆë‹¤ ëª¨ë‘ â€˜ì„±ì€ì´ ë§ê·¹í•˜ì˜µë‹ˆë‹¤!â€™ ì™¸ì¹œë‹¤",
      "(ë‹¤ê°™ì´ Â· 1ë¶„) ì™•ì˜ ë§ì´ ëë‚  ë•Œë§ˆë‹¤ ë°•ìˆ˜ ì¹˜ê¸°",
      "(ë‹¤ê°™ì´ Â· 1ë¶„) ì¦ê²ê²Œ ë§í•˜ì‹œì˜¤",
      "(ë‹¤ê°™ì´ Â· 1ë¶„) ì™•ì´ ì›ƒìœ¼ë©´ ëª¨ë‘ ë”°ë¼ ì›ƒê¸°",
      "(ë‹¤ê°™ì´ Â· ì¦‰ì‹œ) ì™•ì´ ì†ì„ ë“¤ë©´ ëª¨ë‘ ì¡°ìš©",
      "(ì§€ëª© Â· 20ì´ˆ) ë°œì–¸ ê°•ì œ",
      "(ì§€ëª© Â· 1ë¶„) ì´ë¦„ ë¶ˆë¦¬ë©´ ì¼ì–´ë‚˜ì„œ ë§í•˜ê¸°",
      "(ì§€ëª© Â· 30ì´ˆ) ì† ë“¤ê³  ë²„í‹°ê¸°",
      "(ì§€ëª© Â· 1ë¶„) ë§ ëì— â€˜ìš©â€™ ë¶™ì´ê¸°",
      "(ì§€ëª© Â· ì¦‰ì‹œ) í•œ ëª…ì„ ë‹¤ë¥¸ íŒ€ìœ¼ë¡œ ë³´ëƒ„",
      "(ì§€ëª© Â· 45ì´ˆ) í•œ ì† í—ˆë¦¬ì—, í•œ ì† í„± ê´´ê³  ë§í•˜ê¸°",
      "(ì§€ëª© Â· 30ì´ˆ) ë§í•  ë•Œë§ˆë‹¤ ìê¸°ì†Œê°œ ë¶™ì´ê¸° (ì €ëŠ” ~~ì¸ë°ìš”â€¦)",
      "(ì§€ëª© Â· 1ë¶„) ë§í•  ë•Œë§ˆë‹¤ ì–‘ì†ìœ¼ë¡œ í•˜íŠ¸ ë§Œë“¤ê¸°",
      "(ì§€ëª© Â· 20ì´ˆ) ì˜ìì—ì„œ 5cm ë„ìš°ê³  ë§í•˜ê¸°",
      "(ì§€ëª© Â· 1ë¶„) ë§ ëì„ â€˜ë‹¤ëƒ¥â€™ìœ¼ë¡œ ë§í•˜ê¸°"
    ],
    currentTopic: null, // {type:'ox'|'choice', text, left, right}
    assignments: { left: [], right: [] },
  };

  // ---------- Helpers ----------
  const $ = (sel) => document.querySelector(sel);
  const $$ = (sel) => Array.from(document.querySelectorAll(sel));
  const byId = (id) => document.getElementById(id);
  const rnd = (n) => Math.floor(Math.random() * n);
  const shuffle = (arr) => arr.map(v=>[Math.random(), v]).sort((a,b)=>a[0]-b[0]).map(v=>v[1]);
  const clamp = (n, a, b) => Math.max(a, Math.min(b, n));

  function showToast(msg){
    const t = byId('toast');
    t.className = 'rounded-xl bg-black/80 text-white px-3 py-2 text-sm shadow';
    t.textContent = msg;
    t.classList.remove('hidden');
    clearTimeout(t._tid);
    t._tid = setTimeout(()=>{ t.classList.add('hidden'); }, 1800);
  }

  function initPlayerInputs(initial=["A","B","C","D"]) {
    const box = byId('playersBox');
    box.innerHTML = '';
    initial.forEach(name=>addPlayerInput(name));
  }
  function addPlayerInput(val=''){
    const box = byId('playersBox');
    const w = document.createElement('div');
    w.className = 'relative';
    w.innerHTML = `<input type="text" class="w-full rounded-xl border border-slate-300 p-2 pr-10" value="${val}">
                   <button class="absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-rose-500" title="ì‚­ì œ">âœ•</button>`;
    const input = w.querySelector('input');
    const btn = w.querySelector('button');
    // ì‚­ì œ ë²„íŠ¼
    btn.addEventListener('click', ()=>{ w.remove(); });
    // Enterë¡œ ë‹¤ìŒ ì¹¸ ì´ë™ (ë§ˆì§€ë§‰ì´ë©´ ìƒˆ ì¹¸ ì¶”ê°€ í›„ í¬ì»¤ìŠ¤)
    input.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter'){
        e.preventDefault();
        const inputs = $$('#playersBox input');
        const idx = inputs.indexOf(input);
        const next = inputs[idx+1];
        if(next){ next.focus(); next.select?.(); }
        else { addPlayerInput(''); const fresh = $$('#playersBox input').at(-1); fresh?.focus(); }
      }
    });
    box.appendChild(w);
  }
  function collectPlayers(){
    // Do NOT overwrite state.players when there are no input boxes.
    const inputs = $$('#playersBox input');
    if(inputs.length === 0) return state.players.slice();
    const names = inputs.map(i=>i.value.trim()).filter(Boolean);
    const uniq = Array.from(new Set(names));
    state.players = uniq; // only update when inputs exist
    return uniq;
  }

  function pickRandomKing(){
    const list = collectPlayers();
    const base = (list.length ? list : state.players);
    if(base.length === 0){ alert('ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.'); return; }
    state.king = base[rnd(base.length)];
    renderKing();
  }

  function renderKing(){
    const badge = byId('kingBadge');
    const nameEl = byId('kingName');
    const powersEl = byId('kingPowers');

    // Show the king badge ONLY on the topic screen (not on the initial start screen)
    const topicVisible = !byId('screenTopic').classList.contains('hidden');
    if(!state.king || !topicVisible){
      badge.classList.add('hidden');
      return;
    }

    badge.classList.remove('hidden');
    nameEl.textContent = state.king;
    // pick exactly 2 powers per round
    const shuffled = shuffle(state.powers.slice());
    const chosen = shuffled.slice(0,2);
    powersEl.innerHTML = chosen.map(p=>`<div class="flex items-start gap-2"><span>ğŸ‘‘</span><span>${p}</span></div>`).join('');
  }

  function nextTopic(){
    const poolType = Math.random() < 0.5 ? 'ox' : 'choice';
    const pool = state.topics[poolType];
    if(pool.length === 0){ alert('ì§ˆë¬¸ì§€ê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤. ì„¤ì •ì—ì„œ ì¶”ê°€í•˜ì„¸ìš”.'); return; }
    const text = pool[rnd(pool.length)];
    if(poolType === 'ox'){
      state.currentTopic = { type:'ox', text, left:'O', right:'X' };
    } else {
      const parts = text.split(/\s+vs\s+/i);
      const left = parts[0]?.trim() || 'ì¢Œì¸¡';
      const right = parts[1]?.trim() || 'ìš°ì¸¡';
      state.currentTopic = { type:'choice', text, left, right };
    }
    state.assignments = { left: [], right: [] };
    renderKing();
    renderTopic();
  }

  function renderTopic(){
    const t = state.currentTopic;
    const heading = byId('topicHeading');

    if(t.type === 'choice'){
      // Two-line layout: question line + options line
      const suffix = t.left + ' vs ' + t.right;
      let question = t.text;
      const idx = t.text.lastIndexOf(suffix);
      if(idx > -1){ question = t.text.slice(0, idx).trim(); }
      else { question = (t.text.indexOf(' vs ')>-1 ? t.text.split(' vs ')[0] : t.text).trim(); }
      heading.innerHTML = '<div>' + question + '</div>' +
                          '<div class="mt-2 font-extrabold">' + t.left + '  vs  ' + t.right + '</div>';
      byId('leftTeamTitle').textContent = t.left;
      byId('rightTeamTitle').textContent = t.right;
    } else {
      heading.textContent = t.text;
      byId('leftTeamTitle').textContent = 'O';
      byId('rightTeamTitle').textContent = 'X';
    }

    renderAssignments();
  }

  function renderAssignments(){
    const L = byId('leftList');
    const R = byId('rightList');
    L.innerHTML = state.assignments.left.map(n=>`<li class=\"rounded-lg bg-white px-2 py-1 ring-1 ring-slate-200\" data-name=\"${n}\">${n}</li>`).join('');
    R.innerHTML = state.assignments.right.map(n=>`<li class=\"rounded-lg bg-white px-2 py-1 ring-1 ring-slate-200\" data-name=\"${n}\">${n}</li>`).join('');
    byId('leftCount').textContent = `${state.assignments.left.length}ëª…`;
    byId('rightCount').textContent = `${state.assignments.right.length}ëª…`;

    // Drag & Drop (manual reassignment)
    $$('#leftList li').forEach(li=>{
      li.draggable = true;
      li.addEventListener('dragstart', (e)=>{ e.dataTransfer.setData('text/plain', li.dataset.name); e.dataTransfer.setData('from','left'); });
    });
    $$('#rightList li').forEach(li=>{
      li.draggable = true;
      li.addEventListener('dragstart', (e)=>{ e.dataTransfer.setData('text/plain', li.dataset.name); e.dataTransfer.setData('from','right'); });
    });
    ['leftList','rightList'].forEach(id=>{
      const ul = byId(id);
      ul.addEventListener('dragover', (e)=>{ e.preventDefault(); });
      ul.addEventListener('drop', (e)=>{
        e.preventDefault();
        const name = e.dataTransfer.getData('text/plain');
        const from = e.dataTransfer.getData('from');
        const to = (id==='leftList' ? 'left' : 'right');
        if(!name || !from || from===to) return;
        const src = state.assignments[from];
        const dst = state.assignments[to];
        const idx = src.indexOf(name);
        if(idx>-1){ src.splice(idx,1); if(!dst.includes(name)) dst.push(name); renderAssignments(); }
      });
    });
  }

  function assignTeams(){
    // Prefer inputs if present; otherwise use existing state.players WITHOUT overwriting it.
    const inputs = $$('#playersBox input');
    const players = inputs.length ? collectPlayers() : state.players.slice();

    if(players.length < 2){ alert('ìµœì†Œ 2ëª… ì´ìƒì´ í•„ìš”í•©ë‹ˆë‹¤.'); return; }
    if(!state.king){ alert('ì™•ì„ ë¨¼ì € ì •í•˜ì„¸ìš”.'); return; }

    const others = players.filter(n=>n !== state.king);
    const n = others.length;

    if(n === 0){ state.assignments = {left:[], right:[]}; renderAssignments(); return; }

    const even = (n % 2) === 0;
    const leftSize = even ? (n/2) : (Math.random() < 0.5 ? Math.floor(n/2) : Math.ceil(n/2));

    const shuffled = shuffle(others);
    state.assignments.left = shuffled.slice(0, leftSize);
    state.assignments.right = shuffled.slice(leftSize);
    renderAssignments();
  }

  // ---------- Timer ----------
  function setMinutes(m){
    state.minutes = clamp(m,1,30);
    state.timer.totalMs = state.minutes * 60 * 1000;
    resetTimer();
  }
  function formatMMSS(ms){
    const s = Math.max(0, Math.floor(ms/1000));
    const mm = String(Math.floor(s/60)).padStart(2,'0');
    const ss = String(s%60).padStart(2,'0');
    return `${mm}:${ss}`;
  }
  function startTimer(){
    if(state.timer.running) return;
    state.timer.running = true;
    const startedAt = Date.now();
    let lastLeft = state.timer.leftMs;
    byId('btnTimerStart').disabled = true;
    state.timer.id = setInterval(()=>{
      const elapsed = Date.now() - startedAt;
      const left = clamp(lastLeft - elapsed, 0, state.timer.totalMs);
      state.timer.leftMs = left;
      renderTimer();
      if(left <= 0){ pauseTimer(); ring(); }
    }, 100);
  }
  function pauseTimer(){
    if(state.timer.id){ clearInterval(state.timer.id); state.timer.id = null; }
    state.timer.running = false;
    byId('btnTimerStart').disabled = false;
  }
  function resetTimer(){
    pauseTimer();
    state.timer.leftMs = state.timer.totalMs;
    renderTimer();
  }
  function renderTimer(){
    byId('timerText').textContent = formatMMSS(state.timer.leftMs);
    const ratio = 1 - (state.timer.leftMs / state.timer.totalMs);
    byId('timerBar').style.width = `${(ratio*100).toFixed(2)}%`;
  }
  function ring(){
    const slide = document.querySelector('.pptx-slide');
    slide.animate([
      { boxShadow: '0 20px 60px rgba(0,0,0,.25)' },
      { boxShadow: '0 0 0 8px rgba(244, 63, 94, .35), 0 20px 60px rgba(0,0,0,.25)' },
      { boxShadow: '0 20px 60px rgba(0,0,0,.25)' }
    ], { duration: 1200 });
  }

  // ---------- Next King ----------
  function openNextKingDialog(){
    const sel = byId('selNextKing');
    sel.innerHTML = '';
    const candidates = collectPlayers().filter(n=>n !== state.king);
    const base = candidates.length ? candidates : state.players.filter(n=>n!==state.king);
    base.forEach(n=>{
      const o = document.createElement('option'); o.value=n; o.textContent=n; sel.appendChild(o);
    });
    byId('dlgNextKing').showModal();
  }

  function confirmNextKing(){
    const sel = byId('selNextKing');
    state.king = sel.value;
    state.round += 1;
    renderKing();
    nextTopic();
    state.assignments = { left: [], right: [] };
    renderAssignments();
    resetTimer();
  }

  // ---------- Settings ----------
  function openSettings(){
    byId('taOX').value = state.topics.ox.join('\n');
    byId('taChoice').value = state.topics.choice.join('\n');
    byId('taPowers').value = state.powers.join('\n');
    byId('inpMinutes').value = state.minutes;
    byId('dlgSettings').showModal();
  }
  function saveSettings(){
    const ox = byId('taOX').value.split(/\n+/).map(s=>s.trim()).filter(Boolean);
    const ch = byId('taChoice').value.split(/\n+/).map(s=>s.trim()).filter(Boolean);
    const pw = byId('taPowers').value.split(/\n+/).map(s=>s.trim()).filter(Boolean);
    state.topics.ox = ox; state.topics.choice = ch; state.powers = pw;
    setMinutes(parseInt(byId('inpMinutes').value||'5',10));
  }

  // ---------- Screen Flow ----------
  function startGame(){
    collectPlayers();
    if(state.players.length < 2){ alert('ì°¸ì—¬ìë¥¼ 2ëª… ì´ìƒ ì…ë ¥í•˜ì„¸ìš”.'); return; }
    // í•­ìƒ ì²« ë¼ìš´ë“œ ì‹œì‘ ì‹œ ì™• ìë™ ë°°ì •
    pickRandomKing();
    byId('screenStart').classList.add('hidden');
    byId('screenTopic').classList.remove('hidden');
    nextTopic();
    resetTimer();
  }

  // ---------- Fullscreen toggle with graceful fallback ----------
  function toggleFullscreen(){
    const doc = document;
    const docEl = doc.documentElement;
    const enter = docEl.requestFullscreen || docEl.webkitRequestFullscreen || docEl.msRequestFullscreen || docEl.mozRequestFullScreen;
    const exit = doc.exitFullscreen || doc.webkitExitFullscreen || doc.msExitFullscreen || doc.mozCancelFullScreen;

    // If browser says fullscreen is disabled by policy, use pseudo-fullscreen
    if(doc.fullscreenEnabled === false){
      document.body.classList.toggle('pseudo-fullscreen');
      showToast('ì œí•œëœ í™˜ê²½: ëŒ€ì²´ ì „ì²´í™”ë©´ ëª¨ë“œë¡œ ì „í™˜ë˜ì—ˆìŠµë‹ˆë‹¤.');
      return;
    }

    try{
      if(!(doc.fullscreenElement || doc.webkitFullscreenElement || doc.msFullscreenElement || doc.mozFullScreenElement)){
        if(enter){ enter.call(docEl); }
        else { document.body.classList.toggle('pseudo-fullscreen'); showToast('ì „ì²´í™”ë©´ API ë¯¸ì§€ì›: ëŒ€ì²´ ëª¨ë“œë¡œ ì „í™˜'); }
      }else{
        if(exit){ exit.call(doc); }
        else { document.body.classList.toggle('pseudo-fullscreen'); showToast('ì „ì²´í™”ë©´ í•´ì œ ë¶ˆê°€: ëŒ€ì²´ ëª¨ë“œë¡œ ì „í™˜'); }
      }
    }catch(err){
      // Typical error: TypeError: Disallowed by permissions policy
      console.warn('Fullscreen toggle fallback due to error:', err);
      document.body.classList.toggle('pseudo-fullscreen');
      showToast('ê¶Œí•œ ì œí•œ: ëŒ€ì²´ ì „ì²´í™”ë©´ ëª¨ë“œë¡œ ì „í™˜ë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
  }

  // ---------- Events ----------
  byId('addPlayer').addEventListener('click', ()=>addPlayerInput(''));
  byId('shuffleNames').addEventListener('click', ()=>{
    const inputs = $$('#playersBox input');
    const vals = shuffle(inputs.map(i=>i.value));
    inputs.forEach((i,idx)=> i.value = vals[idx] || '');
  });
  // ë²„íŠ¼ì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì•ˆì „ ê°€ë“œ
  const pickBtn = byId('btnPickKing');
  if(pickBtn) pickBtn.addEventListener('click', pickRandomKing);
  byId('btnStartGame').addEventListener('click', startGame);

  byId('btnAssign').addEventListener('click', assignTeams);
  byId('btnNewTopic').addEventListener('click', ()=>{ nextTopic(); resetTimer(); });
  byId('btnPickNextKing').addEventListener('click', openNextKingDialog);
  byId('btnConfirmNextKing').addEventListener('click', (e)=>{ e.preventDefault(); const dlg = byId('dlgNextKing'); if(dlg?.open) dlg.close('confirmed'); setTimeout(()=>{ confirmNextKing(); }, 50); });

  byId('btnTimerStart').addEventListener('click', startTimer);
  byId('btnTimerPause').addEventListener('click', pauseTimer);
  byId('btnTimerReset').addEventListener('click', resetTimer);

  byId('btnSettings').addEventListener('click', openSettings);
  byId('btnSaveSettings').addEventListener('click', (e)=>{ e.preventDefault(); saveSettings(); byId('dlgSettings').close(); renderKing(); });

  byId('btnFullscreen').addEventListener('click', toggleFullscreen);

  // ---------- Boot ----------
  initPlayerInputs(["ê´‘ë°°","ë¯¼ì£¼","ë³´ë¹ˆ","ë³´ê·œ","ìƒì›","ë‹¤ì˜","ë¯¼ì§€","ë‚˜ì—°","ì¤€ìˆ˜"]);
  setMinutes(5);
  renderTimer();

  // ---------- Simple Test Suite (console) ----------
  (function runTests(){
    const results = [];
    function ok(name, cond){ results.push({name, pass: !!cond}); }

    // Test 0: collectPlayers should NOT wipe state.players when inputs are empty
    byId('playersBox').innerHTML = '';
    state.players = ['A','B','C'];
    const afterCollect = collectPlayers();
    ok('collectPlayers keeps state when no inputs', afterCollect.length===3 && state.players.length===3);

    // Test 1: nextTopic creates topic and empties assignments
    nextTopic();
    ok('Topic created', !!state.currentTopic && !!state.currentTopic.text);
    ok('Assignments empty after nextTopic', state.assignments.left.length===0 && state.assignments.right.length===0);

    // Test 2: assignTeams respects parity (king excluded) â€” even others
    byId('playersBox').innerHTML = '';
    state.players = ['A','B','C','D','E']; // 5 players (others=4)
    state.king = 'A';
    assignTeams();
    let totalAssigned = state.assignments.left.length + state.assignments.right.length;
    ok('Assigned count equals players-king', totalAssigned === 4);
    ok('Parity OK (2:2 when 4 participants)', state.assignments.left.length===2 && state.assignments.right.length===2);
    ok('King excluded from teams', !state.assignments.left.includes('A') && !state.assignments.right.includes('A'));

    // Test 2b: odd others -> difference should be 1 and total = others
    state.players = ['A','B','C','D','E','F']; // 6 players (others=5)
    state.king = 'F';
    assignTeams();
    totalAssigned = state.assignments.left.length + state.assignments.right.length;
    const diff = Math.abs(state.assignments.left.length - state.assignments.right.length);
    ok('Assigned count equals players-king (odd)', totalAssigned === 5);
    ok('Odd parity -> size diff is 1', diff === 1);
    ok('King excluded (odd)', !state.assignments.left.includes('F') && !state.assignments.right.includes('F'));

    // Test 3: confirmNextKing closes dialog
    const dlg = byId('dlgNextKing');
    state.players = ['ê´‘ë°°','ë¯¼ì£¼','ë³´ë¹ˆ','ë³´ê·œ','ìƒì›','ë‹¤ì˜','ë¯¼ì§€','ë‚˜ì—°','ì¤€ìˆ˜']; state.king='ì¤€ìˆ˜';
    dlg.showModal();
    byId('selNextKing').innerHTML = '<option value="ì˜í¬">ì˜í¬</option><option value="ë¯¼ìˆ˜">ë¯¼ìˆ˜</option>';
    byId('selNextKing').value = 'ì˜í¬';
    byId('btnConfirmNextKing').click();
    setTimeout(()=>{
      ok('Dialog closed after confirm', !dlg.open);

      console.group('%cBalance Game â€“ Tests','color:#16a34a;font-weight:700');
      results.forEach(r=> console[r.pass?'log':'error'](`${r.pass?'âœ”':'âœ–'} ${r.name}`));
      console.groupEnd();
    }, 120);
  })();
  </script>
</body>
</html>
